<div class="template_customer template_customer__account">
	<div class="container">
		<h1 class="page_heading">{{ 'customer.account.title' | t }}, {{ customer.name }} {% comment %}<a class="link_logout" href="/account/logout">{{ 'customer.account.logout' | t }}</a>{% endcomment %}</h1>

		<div id="account_customer__wrapper" class="customer_wrapper">
			<a href="#" id="customer_account__info" class="customer_block customer_block__info">
				<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M20 16C15.6 16 12 12.4 12 8C12 3.6 15.6 0 20 0C24.4 0 28 3.6 28 8C28 12.4 24.4 16 20 16ZM20 2C16.7 2 14 4.7 14 8C14 11.3 16.7 14 20 14C23.3 14 26 11.3 26 8C26 4.7 23.3 2 20 2Z"/>
					<path d="M40 40H0V39C0.299252 34.1 2.39401 29.3 5.88529 25.8C9.67581 22.1 14.6633 20 19.9501 20C25.2369 20 30.3242 22.1 34.015 25.9C37.5062 29.4 39.8005 34 40 39V40ZM2.09476 38H37.8055C37.3067 33.9 35.5112 30.2 32.6185 27.3C29.3267 23.9 24.7382 22 19.9501 22C15.1621 22 10.6733 23.9 7.2818 27.3C4.38903 30.2 2.59352 33.9 2.09476 38Z"/>
				</svg>
				<h5>Information</h5>
			</a>

			<a href="/account/addresses" class="customer_block customer_block__addres">
				<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M34 40H24V27H16V40H6V18H0L20 0L40 18H34V40ZM26 38H32V16H34.8L20 2.7L5.2 16H8V38H14V25H26V38Z"/>
				</svg>
				<h5>{% if customer.addresses.size == 0 %}Add adresses{% else %}Customer addres{% endif %}</h5>
			</a>

			{% if customer.orders.size == 0 %}
				<div id="customer_account__order" class="customer_block customer_block__order noactive">
			{% else %}
				<a id="customer_account__order" href="/account/orders" class="customer_block customer_block__order">
			{% endif %}
					<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M38.8 11.6L37.3 10.3L31 17.8V0H1V40H31V20.9L38.8 11.6ZM29 38H3V2H29V20.1L22.8 27.5L13.7 18.2L12.3 19.6L22.9 30.5L29 23.3V38Z"/>
					</svg>
					<h5>{% if customer.orders.size == 0 %}You don't have orders yet{% else %}Order history and details{% endif %}</h5>
			{% if customer.orders.size == 0 %}
				</div>	
			{% else %}
				</a>
			{% endif %}

			<a href="/account/logout" class="customer_block customer_block__reset">
				<svg width="38" height="40" viewBox="0 0 38 40" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M16 0H38V40H16V38H25H36V21V2H26H16V0Z"/>
					<path d="M4 19H22V21H4L10 27L8.5 28.5L0 20L8.5 11.5L10 13L4 19Z"/>
				</svg>
				<h5>Log Out</h5>
			</a>
		</div>
		
		{% comment %} ACCOUNT INFO {% endcomment %}
		<div id="account_section__info" class="account_section account_section__info">
			<div class="customer_item_wrap">
				<div class="block_title">
					<a class="link_close account_account__close" href="#" title="{{ 'customer.register_form.close' | t }}">
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M9 0H20V20H9V18H18V2H9V0Z" fill="#222222"/>
						<path d="M3.31844 9H12V11H3.25147L6 13.7156L4.85714 15L0 10.0458L4.85714 5L6 6.28441L3.31844 9Z" fill="#222222"/>
					</svg>
					</a>
				</div>

				<p>{{ section.settings.welcome_text }}</p>

				<h4>{{ 'customer.account.account_info_title' | t }}</h4>

				<div class="account_table__info">
					<div class="form-group">
						<label>{{ 'customer.account.account_info_name' | t }}</label>
						<input type="text" readonly value='{{ customer.name }}'>
					</div>
					
					<div class="form-group">
						<label>{{ 'customer.account.account_info_email' | t }}</label>
						<input type="text" readonly value='{{ customer.email }}'>
					</div>
					
					<div class="form-group">
						<label>{{ 'customer.account.account_info_orders' | t }}</label>
						<input type="text" readonly value='{{ customer.orders | size }}'>
					</div>

					<div class="form-group">
						<label>{{ 'customer.account.account_info_total_spent' | t }}</label>
						<input type="text" readonly value='{{ customer.total_spent | money }}'>
					</div>
				</div>

				<div class="account_table__default">
					<h4>{{ 'customer.account.account_addresses_title' | t }}
						<a class="link_edit" href="/account/addresses" title="{{ 'customer.account.account_addresses_manage' | t }}">
							<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M20.0009 5.50005L20.7082 6.20696C21.0986 5.81636 21.0984 5.18328 20.7079 4.79285L20.0009 5.50005ZM16.4999 2.00002L17.2069 1.29281C16.8221 0.908151 16.2004 0.901685 15.8077 1.27826L16.4999 2.00002ZM4.50318 13.5045L3.81104 12.7827L3.57009 13.1448L4.50318 13.5045ZM1.99976 20.0001L1.06666 19.6404C0.92274 20.0139 1.01531 20.4371 1.30196 20.7164C1.58862 20.9956 2.01415 21.0771 2.38367 20.9234L1.99976 20.0001ZM8.00433 17.5035L8.38825 18.4268L8.71164 18.2104L8.00433 17.5035ZM20.7079 4.79285L17.2069 1.29281L15.7929 2.70723L19.2939 6.20726L20.7079 4.79285ZM15.8077 1.27826L3.81104 12.7827L5.19533 14.2262L17.192 2.72178L15.8077 1.27826ZM3.57009 13.1448L1.06666 19.6404L2.93285 20.3597L5.43628 13.8641L3.57009 13.1448ZM2.38367 20.9234L8.38825 18.4268L7.62041 16.5801L1.61584 19.0767L2.38367 20.9234ZM8.75672 16.8448L5.25557 12.8457L3.7508 14.1632L7.25194 18.1622L8.75672 16.8448ZM8.71164 18.2104L20.7082 6.20696L19.2936 4.79315L7.29702 16.7966L8.71164 18.2104Z" fill="#222222"/>
							</svg>
						</a>
					</h4>

					{% if customer.default_address == nil %}
						
						<div class="form-group">
							<label>Address</label>
							<input type="text" readonly value='{{ 'customer.account.account_addresses_default_empty' | t }}'>
						</div>
					{% else %}
						{% if customer.default_address.name.size > 0 %}
							<div class="form-group">
								<label>{{ 'customer.register_form.first_name' | t }}</label>
								<input type="text" readonly value='{{ customer.default_address.name }}'>
							</div>
						{% endif %}

						<div class="form-group">
							<label>Address</label>
							<input type="text" readonly value='{% if customer.default_address.address1.size > 0 %} {{ customer.default_address.address1 }} {% endif %}{% if customer.default_address.address2.size > 0 %} {{ customer.default_address.address2 }} {% endif %}{% if customer.default_address.city.size > 0 %} {{ customer.default_address.city }} {% endif %}{% if customer.default_address.province.size > 0 %} {{ customer.default_address.province }} {% endif %}{% if customer.default_address.zip.size > 0 %} {{ customer.default_address.zip }} {% endif %}{% if customer.default_address.country.size > 0 %} {{ customer.default_address.country }} {% endif %}'>
						</div>

						<div class="form-group">
							<label>{{ 'customer.register_form.first_name' | t }}</label>
							<input type="text" readonly value='{{ customer.default_address.name }}'>
						</div>

						{% if customer.default_address.phone.size > 0 %}
							<p class="address_item address_item__phone">
								<i class="fa fa-phone" aria-hidden="true"></i>
								<span>{{ customer.default_address.phone }}</span>
							</p>
						{% endif %}
					{% endif %}

				</div>
			</div>
		</div>


		{% comment %} ORDER INFO {% endcomment %}
		<div id="account_section__orders" class="account_section account_section__order">
			<div class="customer_orders_wrap">
				<h4>{{ 'customer.account.account_orders_title' | t }}
					<a class="link_close account_order__close" href="#" title="{{ 'customer.register_form.close' | t }}">
						<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M9 0H20V20H9V18H18V2H9V0Z" fill="#222222"/>
						<path d="M3.31844 9H12V11H3.25147L6 13.7156L4.85714 15L0 10.0458L4.85714 5L6 6.28441L3.31844 9Z" fill="#222222"/>
						</svg>
					</a>
				</h4>

				{% if customer.orders.size == 0 %}
					<p class="note">{{ 'customer.account.account_orders_none' | t }}</p>
				{% else %}
					<div class="account_table__wrap">
						{% for order in customer.orders %}
							<div class="account_order">
								<table class="account_table">
									<tr class="row_header">
										<td class="cell_left">{{ 'customer.account.account_orders_order_number' | t }}</td>
										<td>{{ 'customer.account.account_orders_date' | t }}</td>
										<td>{{ 'customer.account.account_orders_payment_status' | t }}</td>
										<td class="cell_fulfillment">{{ 'customer.account.account_orders_fulfillment_status' | t }}</td>
										<td colspan="2" class="cell_right">{{ 'customer.account.account_orders_total' | t }}</td>
									</tr>
									<tr class="{% if order.cancelled %}order_cancelled{% endif %}">
										<td class="cell_left">{{ order.name | link_to: order.customer_url }}</td>
										<td>{{ order.created_at | date: "%b %d, %Y" }}</td>
										<td>{{ order.financial_status }}</td>
										<td class="cell_fulfillment">{{ order.fulfillment_status }}</td>
										<td colspan="2" class="cell_right"><span class="money">{{ order.total_price | money }}</span></td>
									</tr>
								</table>
							</div>
						{% endfor %}
					</div>
				{% endif %}
			</div>
		</div>
			
	</div>
</div>

{% schema %}
{
	"name": "Account",
	"settings": [
		{
			"type": "header",
			"content": "Welcome block"
		},
		{
			"type": "textarea",
			"id": "welcome_text",
			"label": "Welcome text"
		}
	]
}
{% endschema %}

{% javascript %} 
jQuery(document).ready(function($) {

	var section_wrapper = $('#account_customer__wrapper');
	var section_info = $('#account_section__info');
	var section_orders = $('#account_section__orders');

	// INFO
	$('#customer_account__info').on('click', function(e) {
		e.preventDefault();
		section_wrapper.fadeOut(200);
		section_info.fadeIn(200);
	});
	$('.account_account__close').on('click', function(e) {
		e.preventDefault();
		section_info.fadeOut(200);
		section_wrapper.fadeIn(200);

	}); 

	
	// ORDERS
	$('#customer_account__order').on('click', function(e) {
		e.preventDefault();
		section_wrapper.fadeOut(200);
		section_orders.fadeIn(200);
	});
	$('.account_order__close').on('click', function(e) {
		e.preventDefault();
		section_orders.fadeOut(200);
		section_wrapper.fadeIn(200);

	}); 



});
{% endjavascript %}